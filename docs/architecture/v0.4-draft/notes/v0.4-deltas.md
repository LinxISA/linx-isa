# v0.4 draft deltas (vs v0.3)

> This is a draft checklist of semantic changes we *may* need for the rendering-focused GPGPU architecture.
> It is intentionally incomplete; we will refine it as we lock the rendering architecture.

## 1) SIMT kernel bodies with control flow (group-level)
Potential change:
- v0.3 decoupled bodies are specified as **linear snippets** and prohibit branch/jump/control-transfer instructions.
- Rendering/GPGPU shaders need **complex control flow inside the kernel body**, at **group (warp) granularity**.

Draft direction:
- Define a v0.4 SIMT "kernel body" form allowing in-body control flow with strict containment rules.

See: `notes/simt-kernel-body-controlflow.md`

## 2) Group model pin-down
Draft direction:
- Standardize on a "warp-like" group model for the GPGPU core:
  - 64 vector lanes (32-bit lanes)
  - 1 scalar-uniform lane (64-bit)
  - 64-bit lane mask/predicate used for group-level control flow

## 3) Memory path clarity for shaders
Draft direction:
- Make the bridging contract for global memory explicit for shader kernels.
- Clarify how `.brg` accesses map onto the tile/TMA channel in the presence of SIMT kernels.

## 4) Rendering pipeline ISA implications
Draft direction:
- Decide which stages are expressed as SIMT kernels vs fixed-function engines.
- Decide required subgroup primitives (shuffles/reductions) and any missing ops.

